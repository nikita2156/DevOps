# üîß Puppet

## üìñ –ß—Ç–æ —Ç–∞–∫–æ–µ Puppet?

**Puppet** ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π —è–∑—ã–∫ –æ–ø–∏—Å–∞–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã.

## üõ†Ô∏è –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–Ω—è—Ç–∏—è
- **Manifest** ‚Äî —Ñ–∞–π–ª —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (.pp)
- **Module** ‚Äî –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –Ω–∞–±–æ—Ä manifest'–æ–≤
- **Class** ‚Äî –ª–æ–≥–∏—á–µ—Å–∫–∞—è –≥—Ä—É–ø–ø–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- **Resource** ‚Äî —É–ø—Ä–∞–≤–ª—è–µ–º—ã–π –æ–±—ä–µ–∫—Ç (file, package, service)
- **Node** ‚Äî —É–ø—Ä–∞–≤–ª—è–µ–º—ã–π —Å–µ—Ä–≤–µ—Ä
- **Puppet Master/Agent** ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ client-server

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
# –ù–∞ master
sudo apt install puppetserver
# –ù–∞ –∞–≥–µ–Ω—Ç–µ
sudo apt install puppet-agent
```

### –ü—Ä–∏–º–µ—Ä manifest
```puppet
class nginx {
  package { 'nginx':
    ensure => installed,
  }
  service { 'nginx':
    ensure => running,
    enable => true,
  }
}

node 'web1.example.com' {
  include nginx
}
```

### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ manifest
```bash
puppet apply nginx.pp
```

## üìù –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
```bash
puppet agent --test
puppet resource service nginx
puppet module install puppetlabs-nginx
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ SSL –¥–ª—è —Å–≤—è–∑–∏ master-agent
- –†–∞–∑–¥–µ–ª—è–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (production, staging)
- –ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –ø—Ä–∞–≤–∞ Puppet

## üõ†Ô∏è Best practices
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–æ–¥—É–ª–∏ —Å Puppet Forge
- –†–∞–∑–¥–µ–ª—è–π—Ç–µ –∫–æ–¥ –ø–æ —Ä–æ–ª—è–º –∏ –ø—Ä–æ—Ñ–∏–ª—è–º
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ manifest'—ã
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ version control –¥–ª—è –∫–æ–¥–∞

## üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- AWS, Azure, GCP (cloud modules)
- Docker, Kubernetes
- CI/CD (Jenkins, GitLab CI)

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Puppet](https://puppet.com/docs/)
- [Puppet Forge](https://forge.puppet.com/)

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã
- [[01-Terraform|Terraform]]
- [[02-Ansible|Ansible]]
- [[../04-–û–±–ª–∞—á–Ω—ã–µ-–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã/01-AWS|AWS]]
- [[../05-CI-CD/01-Jenkins|Jenkins]]

---

*–°–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑–¥–µ–ª: [[../08-–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å/01-–û—Å–Ω–æ–≤—ã-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏|–û—Å–Ω–æ–≤—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏]]* 