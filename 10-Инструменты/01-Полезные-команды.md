# üõ†Ô∏è –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è DevOps

## üêß Linux –∫–æ–º–∞–Ω–¥—ã

### –°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
```bash
# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ
uname -a
cat /etc/os-release
lscpu
free -h
df -h

# –ó–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º—ã
uptime
w
who
last

# –ü—Ä–æ—Ü–µ—Å—Å—ã
ps aux | grep process_name
top
htop
iotop
nethogs
```

### –°–µ—Ç–µ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã
```bash
# –°–µ—Ç–µ–≤—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
ip addr show
ip route show
netstat -tuln
ss -tuln

# –°–µ—Ç–µ–≤–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
ping hostname
traceroute hostname
nslookup domain.com
dig domain.com
curl -I http://example.com
wget --spider http://example.com

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ç–∏
iftop
nethogs
tcpdump -i eth0
```

### –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
```bash
# –ü–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤
find /path -name "*.log" -mtime -7
find /path -type f -size +100M
find /path -exec grep -l "pattern" {} \;

# –ê–Ω–∞–ª–∏–∑ –¥–∏—Å–∫–∞
du -sh /path
du -h | sort -hr | head -10
ncdu /path

# –†–∞–±–æ—Ç–∞ —Å –∞—Ä—Ö–∏–≤–∞–º–∏
tar -czf archive.tar.gz /path
tar -xzf archive.tar.gz
zip -r archive.zip /path
unzip archive.zip
```

## üê≥ Docker –∫–æ–º–∞–Ω–¥—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
```bash
# –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker ps -a
docker start/stop/restart container_id
docker logs -f container_id
docker exec -it container_id bash
docker rm -f container_id

# –û–±—Ä–∞–∑—ã
docker images
docker rmi image_id
docker pull image:tag
docker build -t name:tag .

# –°–∏—Å—Ç–µ–º–∞
docker system df
docker system prune -a
docker stats
```

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –∫–æ–º–∞–Ω–¥—ã
```bash
# –ò–Ω—Å–ø–µ–∫—Ü–∏—è
docker inspect container_id
docker inspect --format='{{.NetworkSettings.IPAddress}}' container_id

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
docker cp container_id:/path/file /host/path/
docker cp /host/file container_id:/path/

# –≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç
docker export container_id > container.tar
docker import container.tar image:tag

# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞ –æ–±—Ä–∞–∑–æ–≤
docker save image:tag > image.tar
docker load < image.tar
```

### Docker Compose
```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
docker-compose up -d
docker-compose down
docker-compose ps
docker-compose logs -f service_name
docker-compose exec service_name bash

# –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
docker-compose up -d --scale service=3

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞
docker-compose build --no-cache
docker-compose up -d --build
```

## ‚ò∏Ô∏è Kubernetes –∫–æ–º–∞–Ω–¥—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
```bash
# –ö–ª–∞—Å—Ç–µ—Ä
kubectl cluster-info
kubectl get nodes
kubectl describe node node_name

# Namespaces
kubectl get namespaces
kubectl create namespace my-namespace
kubectl config set-context --current --namespace=my-namespace

# Pods
kubectl get pods -A
kubectl describe pod pod_name
kubectl logs pod_name
kubectl exec -it pod_name -- bash
```

### –†–µ—Å—É—Ä—Å—ã
```bash
# Services
kubectl get services
kubectl describe service service_name
kubectl expose deployment deployment_name --port=80 --target-port=8080

# Deployments
kubectl get deployments
kubectl scale deployment deployment_name --replicas=3
kubectl rollout status deployment deployment_name
kubectl rollout undo deployment deployment_name

# ConfigMaps –∏ Secrets
kubectl get configmaps
kubectl get secrets
kubectl create configmap my-config --from-file=config.properties
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞
```bash
# –°–æ–±—ã—Ç–∏—è
kubectl get events --sort-by='.lastTimestamp'

# –õ–æ–≥–∏
kubectl logs -f deployment/deployment_name
kubectl logs -f -l app=myapp

# –ü–æ—Ä—Ç—ã
kubectl port-forward pod/pod_name 8080:80
kubectl port-forward service/service_name 8080:80

# –û–ø–∏—Å–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
kubectl explain pod
kubectl explain pod.spec.containers
```

## üîß Git –∫–æ–º–∞–Ω–¥—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
```bash
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
git init
git clone https://github.com/user/repo.git
git remote add origin https://github.com/user/repo.git

# –°—Ç–∞—Ç—É—Å –∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git status
git add .
git commit -m "message"
git push origin branch_name
git pull origin branch_name
```

### –í–µ—Ç–≤–ª–µ–Ω–∏–µ
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–µ—Ç–æ–∫
git branch branch_name
git checkout branch_name
git checkout -b new_branch
git branch -d branch_name

# –°–ª–∏—è–Ω–∏–µ
git merge branch_name
git rebase branch_name
git cherry-pick commit_hash
```

### –ò—Å—Ç–æ—Ä–∏—è –∏ –æ—Ç–ª–∞–¥–∫–∞
```bash
# –ò—Å—Ç–æ—Ä–∏—è
git log --oneline
git log --graph --oneline --all
git show commit_hash
git diff HEAD~1

# –û—Ç–º–µ–Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π
git reset --hard HEAD
git revert commit_hash
git stash
git stash pop
```

## üîÑ CI/CD –∫–æ–º–∞–Ω–¥—ã

### Jenkins
```bash
# CLI –∫–æ–º–∞–Ω–¥—ã
jenkins-cli -s http://jenkins:8080 list-jobs
jenkins-cli -s http://jenkins:8080 build job_name
jenkins-cli -s http://jenkins:8080 get-job job_name > job.xml

# API –∑–∞–ø—Ä–æ—Å—ã
curl -u user:token http://jenkins:8080/api/json
curl -X POST http://jenkins:8080/job/job_name/build
```

### GitLab CI
```bash
# –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
gitlab-runner exec docker job_name
gitlab-runner --debug run

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ runners
gitlab-runner list
gitlab-runner verify
gitlab-runner unregister --name runner_name
```

### GitHub Actions
```bash
# –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
act -j job_name
act --list
act --dryrun

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ secrets
gh secret set SECRET_NAME --body "secret_value"
gh secret list
gh secret delete SECRET_NAME
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–æ–º–∞–Ω–¥—ã

### Prometheus
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
curl http://prometheus:9090/-/healthy
curl http://prometheus:9090/-/ready

# API –∑–∞–ø—Ä–æ—Å—ã
curl -G 'http://prometheus:9090/api/v1/query' --data-urlencode 'query=up'
curl -G 'http://prometheus:9090/api/v1/query_range' --data-urlencode 'query=up' --data-urlencode 'start=2023-01-01T00:00:00Z' --data-urlencode 'end=2023-01-01T23:59:59Z'

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª–∞–º–∏
curl -X POST http://prometheus:9090/api/v1/admin/tsdb/snapshot
```

### Grafana
```bash
# API –∑–∞–ø—Ä–æ—Å—ã
curl -H "Authorization: Bearer $GRAFANA_TOKEN" http://grafana:3000/api/dashboards
curl -X POST -H "Content-Type: application/json" -H "Authorization: Bearer $GRAFANA_TOKEN" http://grafana:3000/api/dashboards/db -d @dashboard.json
```

### ELK Stack
```bash
# Elasticsearch
curl -X GET "localhost:9200/_cluster/health?pretty"
curl -X GET "localhost:9200/_cat/indices?v"
curl -X DELETE "localhost:9200/index_name"

# Logstash
logstash -f config.conf
logstash-plugin list
logstash-plugin install plugin_name

# Kibana
curl -X GET "localhost:5601/api/status"
```

## üîß Terraform –∫–æ–º–∞–Ω–¥—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
```bash
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
terraform init
terraform init -upgrade
terraform init -backend-config="bucket=my-bucket"

# –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ
terraform plan
terraform plan -out=plan.tfplan
terraform apply plan.tfplan
terraform apply -auto-approve

# –£–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ
terraform destroy
terraform destroy -target=aws_instance.web
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
```bash
# –°–æ—Å—Ç–æ—è–Ω–∏–µ
terraform show
terraform state list
terraform state show aws_instance.web
terraform state mv aws_instance.web aws_instance.web_new
terraform state rm aws_instance.web

# Workspaces
terraform workspace new staging
terraform workspace select production
terraform workspace list
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
terraform validate
terraform fmt
terraform fmt -recursive
terraform fmt -diff

# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
terraform-docs markdown table .
terraform-docs json .
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∫–æ–º–∞–Ω–¥—ã

### –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
```bash
# Trivy
trivy image nginx:latest
trivy fs .
trivy config .
trivy k8s --report summary cluster

# Snyk
snyk test
snyk container test nginx:latest
snyk iac test
snyk monitor

# Clair
clair-scanner --ip 172.17.0.1 nginx:latest
```

### SSH –∏ –∫–ª—é—á–∏
```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π
ssh-keygen -t rsa -b 4096 -C "email@example.com"
ssh-keygen -t ed25519 -C "email@example.com"

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–∞–º–∏
ssh-add ~/.ssh/id_rsa
ssh-add -l
ssh-add -d ~/.ssh/id_rsa

# SSH –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
ssh -i ~/.ssh/key.pem user@host
ssh -p 2222 user@host
ssh -L 8080:localhost:80 user@host
```

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ–º–∞–Ω–¥—ã

### –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
```bash
# –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
vmstat 1
iostat 1
sar -u 1 10
dstat -cdngy 1

# –°–µ—Ç–µ–≤—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
netstat -i
ss -s
iftop
nethogs

# –î–∏—Å–∫–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
iotop
iostat -x 1
dd if=/dev/zero of=testfile bs=1M count=1000
```

### –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
```bash
# Java
jstack pid
jmap -dump:format=b,file=heap.hprof pid
jstat -gc pid

# Python
python -m cProfile script.py
python -m memory_profiler script.py

# Node.js
node --prof app.js
node --prof-process isolate-*.log
```

## üîç –û—Ç–ª–∞–¥–∫–∞ –∫–æ–º–∞–Ω–¥—ã

### –õ–æ–≥–∏ –∏ –æ—Ç–ª–∞–¥–∫–∞
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
tail -f /var/log/application.log
grep "ERROR" /var/log/application.log
journalctl -u service_name -f
journalctl --since "1 hour ago"

# –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤
awk '{print $1}' access.log | sort | uniq -c | sort -nr
grep -E "ERROR|WARN" application.log | wc -l
```

### –°–µ—Ç–µ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
```bash
# –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–µ—Ç–∏
mtr hostname
nmap -p 80,443 hostname
telnet hostname port
nc -zv hostname port

# –ê–Ω–∞–ª–∏–∑ —Ç—Ä–∞—Ñ–∏–∫–∞
tcpdump -i eth0 -w capture.pcap
wireshark capture.pcap
tshark -r capture.pcap
```

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã

- [[02-–°–∫—Ä–∏–ø—Ç—ã|–°–∫—Ä–∏–ø—Ç—ã]]
- [[../02-Linux/01-–û—Å–Ω–æ–≤—ã-Linux|–û—Å–Ω–æ–≤—ã Linux]]
- [[../03-–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è/01-Docker-–æ—Å–Ω–æ–≤—ã|Docker –æ—Å–Ω–æ–≤—ã]]
- [[../03-–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è/03-Kubernetes|Kubernetes]]

---

*–°–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑–¥–µ–ª: [[02-–°–∫—Ä–∏–ø—Ç—ã|–°–∫—Ä–∏–ø—Ç—ã]]* 