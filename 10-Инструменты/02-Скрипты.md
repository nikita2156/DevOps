# üìú –ü–æ–ª–µ–∑–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è DevOps

## üêß Bash —Å–∫—Ä–∏–ø—Ç—ã

### –°–∏—Å—Ç–µ–º–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
```bash
#!/bin/bash
# system_monitor.sh - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã

echo "=== –°–∏—Å—Ç–µ–º–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ ==="
echo "–î–∞—Ç–∞: $(date)"
echo ""

# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ
echo "=== –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ ==="
echo "–û–°: $(uname -a)"
echo "–ó–∞–≥—Ä—É–∑–∫–∞: $(uptime)"
echo ""

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
echo "=== –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ ==="
free -h
echo ""

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
echo "=== –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞ ==="
df -h
echo ""

# –¢–æ–ø –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –ø–æ CPU
echo "=== –¢–æ–ø –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –ø–æ CPU ==="
ps aux --sort=-%cpu | head -10
echo ""

# –¢–æ–ø –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –ø–æ –ø–∞–º—è—Ç–∏
echo "=== –¢–æ–ø –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –ø–æ –ø–∞–º—è—Ç–∏ ==="
ps aux --sort=-%mem | head -10
echo ""

# –°–µ—Ç–µ–≤—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
echo "=== –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Ç–µ–≤—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è ==="
netstat -tuln | grep LISTEN
echo ""

# –õ–æ–≥–∏ –æ—à–∏–±–æ–∫ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å
echo "=== –û—à–∏–±–∫–∏ –≤ –ª–æ–≥–∞—Ö –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å ==="
journalctl --since "1 hour ago" -p err
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
#!/bin/bash
# backup.sh - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
BACKUP_DIR="/backup"
SOURCE_DIR="/var/www"
RETENTION_DAYS=7
DATE=$(date +%Y%m%d_%H%M%S)
BACKUP_NAME="backup_${DATE}.tar.gz"

# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –±—ç–∫–∞–ø–æ–≤
mkdir -p $BACKUP_DIR

# –°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞
echo "–°–æ–∑–¥–∞–Ω–∏–µ –±—ç–∫–∞–ø–∞: $BACKUP_NAME"
tar -czf "$BACKUP_DIR/$BACKUP_NAME" -C "$SOURCE_DIR" .

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–∏—è
if [ $? -eq 0 ]; then
    echo "–ë—ç–∫–∞–ø —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω: $BACKUP_NAME"
    
    # –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö –±—ç–∫–∞–ø–æ–≤
    find $BACKUP_DIR -name "backup_*.tar.gz" -mtime +$RETENTION_DAYS -delete
    echo "–£–¥–∞–ª–µ–Ω—ã –±—ç–∫–∞–ø—ã —Å—Ç–∞—Ä—à–µ $RETENTION_DAYS –¥–Ω–µ–π"
else
    echo "–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –±—ç–∫–∞–ø–∞!"
    exit 1
fi

# –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
if command -v mail &> /dev/null; then
    echo "–ë—ç–∫–∞–ø $BACKUP_NAME —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω" | mail -s "Backup Status" admin@company.com
fi
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
```bash
#!/bin/bash
# docker_monitor.sh - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

echo "=== Docker –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ ==="
echo "–î–∞—Ç–∞: $(date)"
echo ""

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
echo "=== –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ ==="
docker stats --no-stream
echo ""

# –°–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
echo "=== –ê–∫—Ç–∏–≤–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã ==="
docker ps --format "table {{.Names}}\t{{.Status}}\t{{.Ports}}"
echo ""

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
echo "=== –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞ Docker ==="
docker system df
echo ""

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
echo "=== –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ ==="
for container in $(docker ps --format "{{.Names}}"); do
    if docker inspect --format='{{.State.Health.Status}}' $container | grep -q "healthy"; then
        echo "‚úÖ $container - –ó–¥–æ—Ä–æ–≤"
    else
        echo "‚ùå $container - –ü—Ä–æ–±–ª–µ–º—ã"
    fi
done
echo ""

# –û—á–∏—Å—Ç–∫–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
echo "=== –û—á–∏—Å—Ç–∫–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ ==="
docker system prune -f
echo "–û—á–∏—Å—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞"
```

## üêç Python —Å–∫—Ä–∏–ø—Ç—ã

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
```python
#!/usr/bin/env python3
# web_monitor.py - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

import requests
import time
import smtplib
from email.mime.text import MIMEText
import logging

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(levelname)s - %(message)s',
    handlers=[
        logging.FileHandler('web_monitor.log'),
        logging.StreamHandler()
    ]
)

class WebMonitor:
    def __init__(self, urls, check_interval=60):
        self.urls = urls
        self.check_interval = check_interval
        self.session = requests.Session()
        self.session.timeout = 10
        
    def check_url(self, url):
        try:
            start_time = time.time()
            response = self.session.get(url)
            response_time = time.time() - start_time
            
            if response.status_code == 200:
                logging.info(f"‚úÖ {url} - OK ({(response_time):.2f}s)")
                return True, response_time
            else:
                logging.error(f"‚ùå {url} - HTTP {response.status_code}")
                return False, response_time
                
        except requests.exceptions.RequestException as e:
            logging.error(f"‚ùå {url} - –û—à–∏–±–∫–∞: {e}")
            return False, 0
    
    def send_alert(self, url, error):
        # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SMTP
        smtp_server = "smtp.gmail.com"
        smtp_port = 587
        sender_email = "monitor@company.com"
        sender_password = "your_password"
        receiver_email = "admin@company.com"
        
        msg = MIMEText(f"–°–∞–π—Ç {url} –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω: {error}")
        msg['Subject'] = f"–ê–ª–µ—Ä—Ç: {url} –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω"
        msg['From'] = sender_email
        msg['To'] = receiver_email
        
        try:
            with smtplib.SMTP(smtp_server, smtp_port) as server:
                server.starttls()
                server.login(sender_email, sender_password)
                server.send_message(msg)
            logging.info(f"–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –¥–ª—è {url}")
        except Exception as e:
            logging.error(f"–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è: {e}")
    
    def run(self):
        logging.info("–ó–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π")
        
        while True:
            for url in self.urls:
                success, response_time = self.check_url(url)
                
                if not success:
                    self.send_alert(url, "–°–∞–π—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω")
                
                # –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞
                if response_time > 5:
                    logging.warning(f"‚ö†Ô∏è {url} - –ú–µ–¥–ª–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç: {response_time:.2f}s")
            
            time.sleep(self.check_interval)

if __name__ == "__main__":
    urls = [
        "https://example.com",
        "https://api.example.com",
        "https://admin.example.com"
    ]
    
    monitor = WebMonitor(urls)
    monitor.run()
```

### –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤
```python
#!/usr/bin/env python3
# log_analyzer.py - –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤

import re
import sys
from collections import Counter, defaultdict
from datetime import datetime, timedelta
import argparse

class LogAnalyzer:
    def __init__(self, log_file):
        self.log_file = log_file
        self.stats = defaultdict(Counter)
        
    def parse_log_line(self, line):
        # –ü—Ä–∏–º–µ—Ä –¥–ª—è Apache/Nginx –ª–æ–≥–æ–≤
        pattern = r'(\S+) - - \[([^\]]+)\] "(\S+) (\S+) (\S+)" (\d+) (\d+)'
        match = re.match(pattern, line)
        
        if match:
            ip, timestamp, method, url, protocol, status, size = match.groups()
            return {
                'ip': ip,
                'timestamp': timestamp,
                'method': method,
                'url': url,
                'status': status,
                'size': int(size) if size.isdigit() else 0
            }
        return None
    
    def analyze(self):
        print("=== –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ ===")
        
        with open(self.log_file, 'r') as f:
            for line in f:
                log_entry = self.parse_log_line(line)
                if log_entry:
                    self.stats['ips'][log_entry['ip']] += 1
                    self.stats['statuses'][log_entry['status']] += 1
                    self.stats['methods'][log_entry['method']] += 1
                    self.stats['urls'][log_entry['url']] += 1
        
        self.print_stats()
    
    def print_stats(self):
        print(f"\n–í—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤: {sum(self.stats['statuses'].values())}")
        
        print("\n=== –¢–æ–ø IP –∞–¥—Ä–µ—Å–æ–≤ ===")
        for ip, count in self.stats['ips'].most_common(10):
            print(f"{ip}: {count}")
        
        print("\n=== –°—Ç–∞—Ç—É—Å—ã –æ—Ç–≤–µ—Ç–æ–≤ ===")
        for status, count in self.stats['statuses'].most_common():
            print(f"{status}: {count}")
        
        print("\n=== HTTP –º–µ—Ç–æ–¥—ã ===")
        for method, count in self.stats['methods'].most_common():
            print(f"{method}: {count}")
        
        print("\n=== –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ URL ===")
        for url, count in self.stats['urls'].most_common(10):
            print(f"{url}: {count}")

if __name__ == "__main__":
    parser = argparse.ArgumentParser(description='–ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤')
    parser.add_argument('log_file', help='–ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –ª–æ–≥–æ–≤')
    args = parser.parse_args()
    
    analyzer = LogAnalyzer(args.log_file)
    analyzer.analyze()
```

## üîß Terraform —Å–∫—Ä–∏–ø—Ç—ã

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
```hcl
# deploy.sh
#!/bin/bash

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
ENVIRONMENT=$1
REGION="us-west-2"
BUCKET_NAME="terraform-state-company"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
if [ -z "$ENVIRONMENT" ]; then
    echo "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: $0 <environment>"
    echo "–ü—Ä–∏–º–µ—Ä: $0 production"
    exit 1
fi

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Terraform
echo "–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Terraform –¥–ª—è –æ–∫—Ä—É–∂–µ–Ω–∏—è: $ENVIRONMENT"
terraform init \
    -backend-config="bucket=$BUCKET_NAME" \
    -backend-config="key=$ENVIRONMENT/terraform.tfstate" \
    -backend-config="region=$REGION"

# –í—ã–±–æ—Ä workspace
terraform workspace select $ENVIRONMENT || terraform workspace new $ENVIRONMENT

# –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
echo "–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π..."
terraform plan -var-file="$ENVIRONMENT.tfvars" -out=plan.tfplan

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
echo "–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π..."
terraform apply plan.tfplan

# –û—á–∏—Å—Ç–∫–∞
rm -f plan.tfplan

echo "–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!"
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è Terraform –∫–æ–¥–∞
```bash
#!/bin/bash
# validate_terraform.sh

echo "=== –í–∞–ª–∏–¥–∞—Ü–∏—è Terraform –∫–æ–¥–∞ ==="

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
echo "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞..."
terraform validate

if [ $? -eq 0 ]; then
    echo "‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω"
else
    echo "‚ùå –û—à–∏–±–∫–∏ –≤ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–µ"
    exit 1
fi

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
echo "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è..."
terraform fmt -check -recursive

if [ $? -eq 0 ]; then
    echo "‚úÖ –ö–æ–¥ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ"
else
    echo "‚ö†Ô∏è –ö–æ–¥ —Ç—Ä–µ–±—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"
    echo "–ó–∞–ø—É—Å—Ç–∏—Ç–µ: terraform fmt -recursive"
fi

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
if command -v tfsec &> /dev/null; then
    echo "–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏..."
    tfsec .
fi

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
if command -v infracost &> /dev/null; then
    echo "–û—Ü–µ–Ω–∫–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏..."
    infracost breakdown --path .
fi

echo "–í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!"
```

## üê≥ Docker —Å–∫—Ä–∏–ø—Ç—ã

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ Docker
```bash
#!/bin/bash
# docker_cleanup.sh

echo "=== –û—á–∏—Å—Ç–∫–∞ Docker ==="

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
echo "–û—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤..."
docker container prune -f

# –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –æ–±—Ä–∞–∑–æ–≤
echo "–£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –æ–±—Ä–∞–∑–æ–≤..."
docker image prune -a -f

# –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ç–æ–º–æ–≤
echo "–£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ç–æ–º–æ–≤..."
docker volume prune -f

# –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Å–µ—Ç–µ–π
echo "–£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Å–µ—Ç–µ–π..."
docker network prune -f

# –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å–∏—Å—Ç–µ–º—ã
echo "–ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å–∏—Å—Ç–µ–º—ã..."
docker system prune -a -f

# –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
echo "=== –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏ ==="
docker system df
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
```python
#!/usr/bin/env python3
# docker_monitor.py

import docker
import time
import json
import logging
from datetime import datetime

logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(__name__)

class DockerMonitor:
    def __init__(self):
        self.client = docker.from_env()
    
    def get_container_stats(self, container):
        try:
            stats = container.stats(stream=False)
            
            # –†–∞—Å—á–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è CPU
            cpu_delta = stats['cpu_stats']['cpu_usage']['total_usage'] - \
                       stats['precpu_stats']['cpu_usage']['total_usage']
            system_delta = stats['cpu_stats']['system_cpu_usage'] - \
                          stats['precpu_stats']['system_cpu_usage']
            
            cpu_percent = (cpu_delta / system_delta) * 100 if system_delta > 0 else 0
            
            # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
            memory_usage = stats['memory_stats']['usage']
            memory_limit = stats['memory_stats']['limit']
            memory_percent = (memory_usage / memory_limit) * 100 if memory_limit > 0 else 0
            
            return {
                'name': container.name,
                'cpu_percent': cpu_percent,
                'memory_percent': memory_percent,
                'memory_usage_mb': memory_usage / 1024 / 1024,
                'memory_limit_mb': memory_limit / 1024 / 1024
            }
        except Exception as e:
            logger.error(f"–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–ª—è {container.name}: {e}")
            return None
    
    def check_containers(self):
        containers = self.client.containers.list()
        
        for container in containers:
            stats = self.get_container_stats(container)
            if stats:
                logger.info(f"–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä: {stats['name']}")
                logger.info(f"  CPU: {stats['cpu_percent']:.1f}%")
                logger.info(f"  Memory: {stats['memory_percent']:.1f}% ({stats['memory_usage_mb']:.1f}MB / {stats['memory_limit_mb']:.1f}MB)")
                
                # –ê–ª–µ—Ä—Ç—ã
                if stats['cpu_percent'] > 80:
                    logger.warning(f"‚ö†Ô∏è –í—ã—Å–æ–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU –≤ {stats['name']}: {stats['cpu_percent']:.1f}%")
                
                if stats['memory_percent'] > 80:
                    logger.warning(f"‚ö†Ô∏è –í—ã—Å–æ–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –≤ {stats['name']}: {stats['memory_percent']:.1f}%")
    
    def run(self, interval=60):
        logger.info("–ó–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤")
        
        while True:
            self.check_containers()
            time.sleep(interval)

if __name__ == "__main__":
    monitor = DockerMonitor()
    monitor.run()
```

## üîÑ CI/CD —Å–∫—Ä–∏–ø—Ç—ã

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
```bash
#!/bin/bash
# deploy.sh

set -e

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
APP_NAME="myapp"
DOCKER_REGISTRY="registry.company.com"
ENVIRONMENT=$1

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
if [ -z "$ENVIRONMENT" ]; then
    echo "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: $0 <environment>"
    echo "–ü—Ä–∏–º–µ—Ä: $0 production"
    exit 1
fi

echo "=== –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ $APP_NAME –≤ $ENVIRONMENT ==="

# –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞
echo "–°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞..."
docker build -t $APP_NAME:$ENVIRONMENT .

# –¢–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–∑–∞
echo "–¢–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–∑–∞..."
docker tag $APP_NAME:$ENVIRONMENT $DOCKER_REGISTRY/$APP_NAME:$ENVIRONMENT

# –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ registry
echo "–û—Ç–ø—Ä–∞–≤–∫–∞ –≤ registry..."
docker push $DOCKER_REGISTRY/$APP_NAME:$ENVIRONMENT

# –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ Kubernetes
echo "–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ Kubernetes..."
kubectl set image deployment/$APP_NAME $APP_NAME=$DOCKER_REGISTRY/$APP_NAME:$ENVIRONMENT

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
echo "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è..."
kubectl rollout status deployment/$APP_NAME

echo "‚úÖ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!"
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
#!/bin/bash
# test.sh

set -e

echo "=== –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤ ==="

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
echo "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π..."
npm install

# –ó–∞–ø—É—Å–∫ –ª–∏–Ω—Ç–µ—Ä–∞
echo "–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞..."
npm run lint

# –ó–∞–ø—É—Å–∫ unit —Ç–µ—Å—Ç–æ–≤
echo "–ó–∞–ø—É—Å–∫ unit —Ç–µ—Å—Ç–æ–≤..."
npm run test:unit

# –ó–∞–ø—É—Å–∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
echo "–ó–∞–ø—É—Å–∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤..."
npm run test:integration

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–¥–∞
echo "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–¥–∞..."
npm run test:coverage

# –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π
echo "–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π..."
npm audit

echo "‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã!"
```

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã

- [[01-–ü–æ–ª–µ–∑–Ω—ã–µ-–∫–æ–º–∞–Ω–¥—ã|–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã]]
- [[../02-Linux/01-–û—Å–Ω–æ–≤—ã-Linux|–û—Å–Ω–æ–≤—ã Linux]]
- [[../03-–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è/01-Docker-–æ—Å–Ω–æ–≤—ã|Docker –æ—Å–Ω–æ–≤—ã]]
- [[../05-CI-CD/01-Jenkins|Jenkins]]

---

*–ö–æ–Ω–µ—Ü –ø–∞–º—è—Ç–∫–∏ DevOps –∏–Ω–∂–µ–Ω–µ—Ä–∞* 