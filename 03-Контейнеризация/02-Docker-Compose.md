# üê≥ Docker Compose

## üìñ –ß—Ç–æ —Ç–∞–∫–æ–µ Docker Compose?

**Docker Compose** ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–Ω–æ–≥–æ–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–º–∏ Docker-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ —Å –ø–æ–º–æ—â—å—é YAML-—Ñ–∞–π–ª–æ–≤.

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- –ü—Ä–æ—Å—Ç–æ—Ç–∞ –∑–∞–ø—É—Å–∫–∞ —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- –û–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è —Å—Ç–∞—Ä—Ç–∞/–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- –õ–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –∏ –æ–±–Ω–æ–≤–ª—è—Ç—å
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
sudo apt update
sudo apt install docker-compose
# –∏–ª–∏ —á–µ—Ä–µ–∑ pip
pip install docker-compose
```

## üõ†Ô∏è –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
```bash
docker-compose up -d         # –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose down          # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —É–¥–∞–ª–µ–Ω–∏–µ
docker-compose ps            # –°–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose logs -f       # –õ–æ–≥–∏
docker-compose exec web bash # –í–æ–π—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
```

## üì¶ –ü—Ä–∏–º–µ—Ä docker-compose.yml
```yaml
version: '3.8'
services:
  web:
    image: nginx:alpine
    ports:
      - "80:80"
    volumes:
      - ./html:/usr/share/nginx/html
    depends_on:
      - db

  db:
    image: mysql:8.0
    environment:
      MYSQL_ROOT_PASSWORD: password
      MYSQL_DATABASE: myapp
    volumes:
      - db_data:/var/lib/mysql

volumes:
  db_data:
```

## üìù –ü–æ–ª–µ–∑–Ω—ã–µ –æ–ø—Ü–∏–∏
- **depends_on** ‚Äî –ø–æ—Ä—è–¥–æ–∫ –∑–∞–ø—É—Å–∫–∞
- **volumes** ‚Äî –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- **networks** ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–µ—Ç–∏
- **build** ‚Äî —Å–±–æ—Ä–∫–∞ –∏–∑ Dockerfile
- **env_file** ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ .env —Ñ–∞–π–ª—ã
- –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π—Ç–µ –ø—Ä–∞–≤–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã
- [[01-Docker-–æ—Å–Ω–æ–≤—ã|Docker –æ—Å–Ω–æ–≤—ã]]
- [[03-Kubernetes|Kubernetes]]
- [[../05-CI-CD/01-Jenkins|Jenkins]]

---

*–°–ª–µ–¥—É—é—â–∏–π —Ä–∞–∑–¥–µ–ª: [[03-Kubernetes|Kubernetes]]* 